{"self":{"props":{"type":"Box"}},"html":"<div lx class=\"lx-abspos\" style=\"right:0%;left:0%;bottom:0%;top:0%;background-color:white;\"><div lx class=\"lx-abspos lxps-grid-v\" style=\"padding-top:10px;padding-bottom:10px;padding-left:10px;padding-right:10px;grid-row-gap:10px;grid-template-rows:1fr 5fr;\"><div lx class=\"lxps-grid-v\" style=\"position:relative;min-height:25px;background-color:lightgray;grid-template-columns:repeat(12,1fr);grid-template-rows:repeat(1,1fr);\"><div lx style=\"position:relative;min-height:25px;min-width:25px;grid-area:1\/1\/2\/2;display:flex;flex-direction:row;text-align:center;align-items:center;justify-content:center;\"><div lx class=\"lx-TextBox\" style=\"width:auto;height:auto;\">#<\/div><\/div><div lx style=\"position:relative;min-height:25px;min-width:25px;grid-area:1\/2\/2\/7;display:flex;flex-direction:row;text-align:center;align-items:center;justify-content:center;\"><div lx class=\"lx-TextBox\" style=\"width:auto;height:auto;\">name<\/div><\/div><div lx style=\"position:relative;min-height:25px;min-width:25px;grid-area:1\/7\/2\/10;display:flex;flex-direction:row;text-align:center;align-items:center;justify-content:center;\"><div lx class=\"lx-TextBox\" style=\"width:auto;height:auto;\">score<\/div><\/div><div lx style=\"position:relative;min-height:25px;min-width:25px;grid-area:1\/10\/2\/13;display:flex;flex-direction:row;text-align:center;align-items:center;justify-content:center;\"><div lx class=\"lx-TextBox\" style=\"width:auto;height:auto;\">level<\/div><\/div><\/div><div lx class=\"lxps-grid-v\" style=\"position:relative;min-height:25px;\"><\/div><\/div><\/div>","lx":[{"geom":"1,3|5,7","type":"Box","__ps":"lx.SlotPositioningStrategy;ds:2;if:2;na:1;i:10px,10px,10px,10px,10px,10px;k:1.3;c:1"},{"key":"s","type":"Box","__ps":"lx.StreamPositioningStrategy;ds:1;if:3;i:10px,10px,10px,10px,10px,10px;t:2;d:1"},{"streamSize":"1fr","type":"Box","__ps":"lx.GridPositioningStrategy;ds:1;if:3;c:12;t:2;m:111111111111"},{"type":"Box","__ps":"lx.AlignPositioningStrategy;ds:1;if:3;d:2;h:2;v:6"},{"key":"text","geom":"2,1|6,5","type":"TextBox"},{"type":"Box","__ps":"lx.AlignPositioningStrategy;ds:1;if:3;d:2;h:2;v:6"},{"key":"text","geom":"2,1|6,5","type":"TextBox"},{"type":"Box","__ps":"lx.AlignPositioningStrategy;ds:1;if:3;d:2;h:2;v:6"},{"key":"text","geom":"2,1|6,5","type":"TextBox"},{"type":"Box","__ps":"lx.AlignPositioningStrategy;ds:1;if:3;d:2;h:2;v:6"},{"key":"text","geom":"2,1|6,5","type":"TextBox"},{"key":"leadersTable","streamSize":"5fr","type":"Box","__ps":"lx.StreamPositioningStrategy;ds:1;if:3;t:1;d:1"}],"js":"const leadersList = (function(){ let c=new lx.ModelCollection; class _am_ extends lx.BindableModel {static __setSchema(){this.initSchema({name:{type:'string'},place:{type:'integer'},score:{type:'integer'},level:{type:'integer'},id:{type:'pk'}});}}if(_am_.__afterDefinition)_am_.__afterDefinition(); c.setModelClass(_am_); return c; })();\n\nPlugin.find('leadersTable').matrix({\n\titems: leadersList,\n\titemBox: [ lx.Form, {grid: true} ],\n\titemRender: function(form) {\n\t\tform.fields({\n\t\t\tplace: [lx.Box, {width: 1}],\n\t\t\tname:  [lx.Box, {width: 5}],\n\t\t\tscore: [lx.Box, {width: 3}],\n\t\t\tlevel: [lx.Box, {width: 3}]\n\t\t});\n\t\tform.getChildren().each(child=>child.align(lx.CENTER, lx.MIDDLE));\n\t}\n});\n\nfunction loadLeaders() {\n\tPlugin.ajax('Respondent.getLeaders',[]).send().then((list)=>{\n\t\tleadersList.reset(list);\n\t});\n}\nloadLeaders();\n\nlx.EventSupervisor.subscribe('tetris_change_leaders', ()=>loadLeaders());"}